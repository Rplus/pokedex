<script>
import CPM from '@d/cpm.js';
import { pvp_eff } from '@d/eff.js';
import TypeTable from '@c/TypeTable.html';
import CostCalc from '@c/CostCalc.html';
import Details from '@c/Details.html';

let _cpm = Object.keys(CPM)
  .map(lv => ({ lv: lv, m: CPM[lv] }))
  .sort((a, b) => a.lv - b.lv);

</script>



<Details class="card" type="pvp_buff">
  <summary>
    <h3>PVP Buff / Debuff factor</h3>
  </summary>
  <div>
    <table class="ml-a mr-a">
      <tr>
        <th>times</th>
        <td>1"</td>
        <td>2"</td>
        <td>3"</td>
        <td>4"</td>
      </tr>
      {#each pvp_eff as e}
        <tr>
          <th>{e.type}</th>

          {#each e.value as v}
            <td>{v}</td>
          {/each}
        </tr>
      {/each}
    </table>
  </div>
</Details>

<CostCalc />

<TypeTable />

<Details class="card" type="cpm_table">
  <summary>
    <h3>Level Multiplier (CPm)</h3>
  </summary>

  <div class="cpm-table">
    <table class="striped-table ml-a mr-a fz-s">
      {#each _cpm as item}
      <tr>
        <td>{item.lv}</td>
        <td>{item.m}</td>
      </tr>
      {/each}
    </table>
  </div>
</Details>



<style>
  .cpm-table {
    columns: 3;
  }
  @media (max-width: 450px) {
    .cpm-table {
      columns: 2;
    }
  }
</style>
